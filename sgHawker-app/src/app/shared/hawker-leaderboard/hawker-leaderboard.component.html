<!--Shared for both Hawker and FoodItem-->
<ion-grid style="width: 100%;">
  <ion-row>
    <ion-col class="ion-text-end">
      <ion-button size="small" (click)="showFilterModal()" class="{{userType === 'HAWKER' ? 'hawker-header-background-color' : 'customer-header-background-color'}}">
        <ion-icon slot="start" name="settings-outline"></ion-icon>
        Filter
      </ion-button>
    </ion-col>
  </ion-row>
  <ion-row class="ion-text-center ion-align-items-center">
    <ion-col>
      <h1 style="display: inline-block">{{viewName}}</h1>
    </ion-col>
  </ion-row>
  <ion-row class="ion-justify-content-center" style="margin-bottom: 1rem">
    <ion-badge style="margin-bottom: 3px;"
    class="{{userType === 'HAWKER' ? 'hawker-header-background-color' : 'customer-header-background-color'}}"
    mode="ios" class="filter-badge" *ngFor="let filterItem of filterItemStrings">{{filterItem}}</ion-badge>
  </ion-row>
  <ion-row>
    <ion-col size="3.5">
      <!--Shared for 2nd PLACE-->
      <div *ngIf="(pCurrentView === 'HAWKERS' && allHawkers.length > 1) || (pCurrentView === 'FOOD_ITEMS' && allFoodItems.length > 1) || (pCurrentView === 'HAWKER_CENTERS' && allHawkerCentres.length > 1)">
        <div class="ribbon-container">
          <ion-avatar class="silver" >
            <img (click)="navigateHawkerStore(allHawkers[1])" *ngIf="pCurrentView === 'HAWKERS'" src="{{baseUrl}}/{{allHawkers[1].outletPic}}"
              onerror="this.src='/assets/sgHawkerAppIcon.svg';">
            <img (click)="navigateHawkerCentreDetails(allHawkerCentres[1].hawkerCentreName)" *ngIf="pCurrentView === 'HAWKER_CENTERS'" src="https://avatars.dicebear.com/api/initials/{{allHawkerCentres[1].hawkerCentreName}}.svg"
              onerror="this.src='/assets/sgHawkerAppIcon.svg';">
            <img (click)="navigateHawkerStore(allFoodItems[1])" *ngIf="pCurrentView === 'FOOD_ITEMS'" src="{{baseUrl}}/{{allFoodItems[1].itemImageSrc}}"
              onerror="this.src='/assets/sgHawkerAppIcon.svg';">
          </ion-avatar>
          <img class='img-button' src="../../../assets/medal2.png" />
        </div>
         <!--Shared for 2nd PLACE: Hawker Namings-->
        <div *ngIf="pCurrentView === 'HAWKERS'">
          <h5 class="ion-text-center" >{{allHawkers[1].outletName}}</h5>
          <p *ngIf= "pValueType === 'SALES'" class="ion-text-center" style="margin-top: 0px;">{{(allHawkers[1].numOfSales / allHawkers[0].numOfSales) *
            5 | number:'1.2-2'}}
            <ion-icon name="star" style="color: #FFDF00; margin-bottom: -1px;"></ion-icon>
          </p>
          <p *ngIf= "pValueType === 'FAVOURITES'" class="ion-text-center" style="margin-top: 0px;">
            <ion-icon name="heart" style="color: red; margin-bottom: -2px;"></ion-icon>
            {{allHawkers[1].numOfSales}}
          </p>
        </div>
        <!--Shared for 2nd PLACE: FoodItem Namings-->
        <div *ngIf="pCurrentView === 'FOOD_ITEMS'">
          <h5 class="ion-text-center" >{{allFoodItems[1].foodItemName}}</h5>
          <p class="ion-text-center" style="margin-top: 0px;">{{(allFoodItems[1].numOfSales /
            allFoodItems[0].numOfSales) *
            5 | number:'1.2-2'}}
            <ion-icon name="star" style="color: #FFDF00; margin-bottom: -1px;"></ion-icon>
          </p>
        </div>
        <!--Shared for 2nd PLACE: HawkerCentre Namings-->
        <div *ngIf="pCurrentView === 'HAWKER_CENTERS'">
          <h5 class="ion-text-center" >{{allHawkerCentres[1].hawkerCentreName}}</h5>
          <p *ngIf= "pValueType === 'SALES'" class="ion-text-center" style="margin-top: 0px;">{{(allHawkerCentres[1].numOfSales / allHawkerCentres[0].numOfSales) *
            5 | number:'1.2-2'}}
            <ion-icon name="star" style="color: #FFDF00; margin-bottom: -1px;"></ion-icon>
          </p>
          <p *ngIf= "pValueType === 'FAVOURITES'" class="ion-text-center" style="margin-top: 0px;">
            <ion-icon name="heart" style="color: red; margin-bottom: -2px;"></ion-icon>
            {{allHawkerCentres[1].numOfSales}}
          </p>
        </div>
      </div>
    </ion-col>
    <ion-col size="5">
      <!--Shared for 1st PLACE-->
      <div *ngIf="(pCurrentView === 'HAWKERS' && allHawkers.length > 0) || (pCurrentView === 'FOOD_ITEMS' && allFoodItems.length > 0) || (pCurrentView === 'HAWKER_CENTERS' && allHawkerCentres.length > 0)">
        <div class="ribbon-container">
          <ion-avatar
          class="gold">
            <img (click)="navigateHawkerStore(allHawkers[0])" *ngIf="pCurrentView === 'HAWKERS'" src="{{baseUrl}}/{{allHawkers[0].outletPic}}"
              onerror="this.src='/assets/sgHawkerAppIcon.svg';">
            <img (click)="navigateHawkerCentreDetails(allHawkerCentres[0].hawkerCentreName)" *ngIf="pCurrentView === 'HAWKER_CENTERS'" src="https://avatars.dicebear.com/api/initials/{{allHawkerCentres[0].hawkerCentreName}}.svg"
              onerror="this.src='/assets/sgHawkerAppIcon.svg';">
            <img (click)="navigateHawkerStore(allFoodItems[0])" *ngIf="pCurrentView === 'FOOD_ITEMS'" src="{{baseUrl}}/{{allFoodItems[0].itemImageSrc}}"
              onerror="this.src='/assets/sgHawkerAppIcon.svg';">
          </ion-avatar>
          <img class='img-button--large' src="../../../assets/medal1.png" />
        </div>
        <!--Shared for 1st PLACE: Hawker Namings-->
        <div *ngIf="pCurrentView === 'HAWKERS'">
          <h5 class="ion-text-center">{{allHawkers[0].outletName}}</h5>
          <p *ngIf= "pValueType === 'SALES'" class="ion-text-center" style="margin-top: 0px;">{{(allHawkers[0].numOfSales / allHawkers[0].numOfSales) *
            5 | number:'1.2-2'}}
            <ion-icon name="star" style="color: #FFDF00; margin-bottom: -1px;"></ion-icon>
          </p>
          <p *ngIf= "pValueType === 'FAVOURITES'" class="ion-text-center" style="margin-top: 0px;">
            <ion-icon name="heart" style="color: red; margin-bottom: -2px;"></ion-icon>
            {{allHawkers[0].numOfSales}}
          </p>
        </div>
        <!--Shared for 1st PLACE: FoodItem Namings-->
        <div *ngIf="pCurrentView === 'FOOD_ITEMS'">
          <h5 class="ion-text-center" >{{allFoodItems[0].foodItemName}}</h5>
          <p class="ion-text-center" style="margin-top: 0px;">{{(allFoodItems[0].numOfSales /
            allFoodItems[0].numOfSales) *
            5 | number:'1.2-2'}}
            <ion-icon name="star" style="color: #FFDF00; margin-bottom: -1px;"></ion-icon>
          </p>
        </div>
        <!--Shared for 1st PLACE: Hawker Centre Namings-->
        <div *ngIf="pCurrentView === 'HAWKER_CENTERS'">
          <h5 class="ion-text-center">{{allHawkerCentres[0].hawkerCentreName}}</h5>
          <p *ngIf= "pValueType === 'SALES'" class="ion-text-center" style="margin-top: 0px;">{{(allHawkerCentres[0].numOfSales / allHawkerCentres[0].numOfSales) *
            5 | number:'1.2-2'}}
            <ion-icon name="star" style="color: #FFDF00; margin-bottom: -1px;"></ion-icon>
          </p>
          <p *ngIf= "pValueType === 'FAVOURITES'" class="ion-text-center" style="margin-top: 0px;">
            <ion-icon name="heart" style="color: red; margin-bottom: -2px;"></ion-icon>
            {{allHawkerCentres[0].numOfSales}}
          </p>
        </div>
      </div>
    </ion-col>
    <ion-col size="3.5">
      <!--Shared for 3rd PLACE-->
      <div *ngIf="(pCurrentView === 'HAWKERS' && allHawkers.length >= 3) || (pCurrentView === 'FOOD_ITEMS' && allFoodItems.length >= 3) || (pCurrentView === 'HAWKER_CENTERS' && allHawkerCentres.length >= 3)">
        <div class="ribbon-container">
          <ion-avatar class="bronze">
            <img (click)="navigateHawkerStore(allHawkers[2])" *ngIf="pCurrentView === 'HAWKERS'" src="{{baseUrl}}/{{allHawkers[2].outletPic}}"
              onerror="this.src='/assets/sgHawkerAppIcon.svg';">
            <img (click)="navigateHawkerCentreDetails(allHawkerCentres[2].hawkerCentreName)" *ngIf="pCurrentView === 'HAWKER_CENTERS'" src="https://avatars.dicebear.com/api/initials/{{allHawkerCentres[2].hawkerCentreName}}.svg"
              onerror="this.src='/assets/sgHawkerAppIcon.svg';">
            <img (click)="navigateHawkerStore(allFoodItems[2])" *ngIf="pCurrentView === 'FOOD_ITEMS'" src="{{baseUrl}}/{{allFoodItems[2].itemImageSrc}}"
              onerror="this.src='/assets/sgHawkerAppIcon.svg';">
          </ion-avatar>
          <img class='img-button' src="../../../assets/medal3.png" />
        </div>
        <!--Shared for 3rd PLACE: Hawker Namings-->
        <div *ngIf="pCurrentView === 'HAWKERS'">
          <h5 class="ion-text-center" >{{allHawkers[2].outletName}}</h5>
          <p *ngIf= "pValueType === 'SALES'" class="ion-text-center" style="margin-top: 0px;">{{(allHawkers[2].numOfSales / allHawkers[0].numOfSales) *
            5 | number:'1.2-2'}}
            <ion-icon name="star" style="color: #FFDF00; margin-bottom: -1px;"></ion-icon>
          </p>
          <p *ngIf= "pValueType === 'FAVOURITES'" class="ion-text-center" style="margin-top: 0px;">
            <ion-icon name="heart" style="color: red; margin-bottom: -2px;"></ion-icon>
            {{allHawkers[2].numOfSales}}
          </p>
        </div>
        <!--Shared for 3rd PLACE: FoodItem Namings-->
        <div *ngIf="pCurrentView === 'FOOD_ITEMS'">
          <h5 class="ion-text-center" >{{allFoodItems[2].foodItemName}}</h5>
          <p class="ion-text-center" style="margin-top: 0px;">{{(allFoodItems[2].numOfSales /
            allFoodItems[0].numOfSales) *
            5 | number:'1.2-2'}}
            <ion-icon name="star" style="color: #FFDF00; margin-bottom: -1px;"></ion-icon>
          </p>
        </div>

        <!--Shared for 3rd PLACE: HawkerCentre Namings-->
        <div *ngIf="pCurrentView === 'HAWKER_CENTERS'">
          <h5 class="ion-text-center" >{{allHawkerCentres[2].hawkerCentreName}}</h5>
          <p *ngIf= "pValueType === 'SALES'" class="ion-text-center" style="margin-top: 0px;">{{(allHawkerCentres[2].numOfSales / allHawkerCentres[0].numOfSales) *
            5 | number:'1.2-2'}}
            <ion-icon name="star" style="color: #FFDF00; margin-bottom: -1px;"></ion-icon>
          </p>
          <p *ngIf= "pValueType === 'FAVOURITES'" class="ion-text-center" style="margin-top: 0px;">
            <ion-icon name="heart" style="color: red; margin-bottom: -2px;"></ion-icon>
            {{allHawkerCentres[2].numOfSales}}
          </p>
        </div>
      </div>
    </ion-col>
  </ion-row>
</ion-grid>

<!--Hawker List from index 4 onwards-->
<div *ngIf="pCurrentView === 'HAWKERS' && allHawkers.length >= 4">
  <ion-list  *ngFor="let hawkers of allHawkers | slice:3; let i = index;"
    style="background-color: #FFF9F1; border-radius: 15px; padding: 0px;">
    <ion-grid style="padding: 5px;">
      <ion-row (click)="navigateHawkerStore(hawkers)" style="background-color: white; border-radius: 15px; padding: 9px;">
        <ion-col size="1" style="font-size: 25px; text-align: center; align-self: center; background-color: white;">
          <ion-label class="indexFont" >{{i + 4}}</ion-label>
        </ion-col>
        <ion-col size="11" style="margin-left: -2.3%;">
          <ion-item lines="none">
            <ion-thumbnail slot="start">
              <img *ngIf="hawkers.outletPic !== ''" src="{{baseUrl}}/{{hawkers.outletPic}}">
              <img *ngIf="hawkers.outletPic === ''"
                src="https://gravatar.com/avatar/dba6bae8c566f9d4041fb9cd9ada7741?d=identicon&f=y">
            </ion-thumbnail>
            <ion-label style="width: 100%; ">
              <h3>{{hawkers.outletName}}</h3>
              <p>{{hawkers.hawkerCentreName}}</p>
              <p *ngIf="pValueType === 'SALES'">{{(hawkers.numOfSales / allHawkers[0].numOfSales) * 5 | number:'1.2-2'}}
                <ion-icon name="star" class="ion-align-item-center" style="color: #FFDF00; margin-bottom: -1px;">
                </ion-icon>
              </p>
              <p *ngIf= "pValueType === 'FAVOURITES'">
                <ion-icon name="heart" class="ion-align-item-center" style="color: red; margin-bottom: -2px;"></ion-icon>
                {{hawkers.numOfSales}}
              </p>
            </ion-label>
          </ion-item>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-list>
</div>

<!--HawkerCentre List from index 4 onwards-->
<div *ngIf="pCurrentView === 'HAWKER_CENTERS' && allHawkerCentres.length >= 4">
  <ion-list *ngFor="let hawkerCentres of allHawkerCentres | slice:3; let i = index;"
    style="background-color: #FFF9F1; border-radius: 15px; padding: 0px;">
    <ion-grid style="padding: 5px;">
      <ion-row (click)="navigateHawkerCentreDetails(hawkerCentres.hawkerCentreName)" style="background-color: white; border-radius: 15px; padding: 9px;">
        <ion-col size="1" style="font-size: 25px; text-align: center; align-self: center; background-color: white;">
          <ion-label class="indexFont" >{{i + 4}}</ion-label>
        </ion-col>
        <ion-col size="11" style="margin-left: -2.3%;">
          <ion-item lines="none">
            <ion-thumbnail slot="start">
              <img src="https://avatars.dicebear.com/api/initials/{{hawkerCentres.hawkerCentreName}}.svg"
              onerror="this.src='/assets/sgHawkerAppIcon.svg';">
            </ion-thumbnail>
            <ion-label style="width: 100%; ">
              <h3>{{hawkerCentres.hawkerCentreName}}</h3>
              <p *ngIf="pValueType === 'SALES'">{{(hawkerCentres.numOfSales / allHawkerCentres[0].numOfSales) * 5 | number:'1.2-2'}}
                <ion-icon name="star" class="ion-align-item-center" style="color: #FFDF00; margin-bottom: -1px;">
                </ion-icon>
              </p>
              <p *ngIf= "pValueType === 'FAVOURITES'">
                <ion-icon name="heart" class="ion-align-item-center" style="color: red; margin-bottom: -2px;"></ion-icon>
                {{hawkerCentres.numOfSales}}
              </p>
            </ion-label>
          </ion-item>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-list>
</div>

<!--FoodItem List from index 4 onwards-->
<div *ngIf="pCurrentView === 'FOOD_ITEMS' && allFoodItems.length >= 4">
  <ion-list *ngFor="let foodItems of allFoodItems | slice:3; let i = index;"
    style="background-color: #FFF9F1; border-radius: 15px; padding: 0px;">
    <ion-grid style="padding: 5px;">
      <ion-row (click)="navigateHawkerStore(foodItems)" style="background-color: white; border-radius: 15px; padding: 9px;">
        <ion-col size="1" style="font-size: 25px; text-align: center; align-self: center; background-color: white;">
          <ion-label class="indexFont" >{{i + 4}}</ion-label>
        </ion-col>
        <ion-col size="11" style="margin-left: -2.3%;">
          <ion-item lines="none">
            <ion-thumbnail slot="start">
              <img src="{{baseUrl}}/{{foodItems.itemImageSrc}}" onerror="this.src='/assets/sgHawkerAppIcon.svg';">
            </ion-thumbnail>
            <ion-label style="width: 100%; ">
              <h3>{{foodItems.foodItemName}}</h3>
              <p>{{foodItems.outletName}}</p>
              <p>{{(foodItems.numOfSales / allFoodItems[0].numOfSales) * 5 | number:'1.2-2'}}
                <ion-icon name="star" class="ion-align-item-center" style="color: #FFDF00; margin-bottom: -1px;">
                </ion-icon>
              </p>
            </ion-label>
          </ion-item>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-list>
</div>



<!--If no foodItem or Hawker AT ALL-->
<div *ngIf="(pCurrentView === 'HAWKERS' && allHawkers.length === 0) || (pCurrentView === 'FOOD_ITEMS' && allFoodItems.length === 0) || (pCurrentView === 'HAWKER_CENTERS' && allHawkerCentres.length === 0)"
  class="ion-text-center" style="color: grey; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);">
  <img src="./assets/Logo - Black.svg" style="opacity: 0.5; width: 300px;" />
  <h2>No leaderboard results available</h2>
</div>
